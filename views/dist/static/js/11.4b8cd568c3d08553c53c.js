webpackJsonp([11],{L9wX:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("p4Oo"),n=a.n(s),i=a("CGGE"),r=a("ixLt"),l=a("fXyh"),c={name:"serviceRecord",components:{chartDetail:r.a},data:function(){return{selectInput:"",affirmedselectInput:"",tableData:[],pageindex:1,pagesize:13,total:0,rows:13,showchartDetail:!1,chartlistdata:[],loading:!1}},created:function(){},mounted:function(){i.a.backlogin(this)&&this.init()},methods:n()({},Object(l.c)("serverModule",{SETLOAD:"SETLOAD"}),{init:function(){this.getdata(this.pageindex,this.affirmedselectInput,this.rows)},change:function(t){this.pageindex=t,this.getdata(this.pageindex,this.affirmedselectInput,this.rows)},inputchange:function(){""!=this.selectInput.replace(/ /g,"")?(this.affirmedselectInput=this.selectInput,this.pageindex=1,this.getdata(this.pageindex,this.affirmedselectInput,this.rows)):this.$message("请输入搜索的内容")},clearIntput:function(){this.selectInput="",""!=this.affirmedselectInput&&(this.affirmedselectInput="",this.pageindex=1,this.getdata(this.pageindex,this.affirmedselectInput,this.rows))},getdata:function(t,e,a){var s=this;this.showchartDetail=!1,this.SETLOAD(!0),this.$api.server.servicerecord(t,e,a).then(function(t){1e4==t.status?(s.tableData=t.data.data,s.total=t.data.iTotalRecords,s.$nextTick(function(){s.SETLOAD(!1)})):(s.SETLOAD(!1),3e4==t.status?s.$message.error(t.message):s.$message.error("未能接收到规定的Josn返回格式!"))})},showchartDetailchange:function(t){this.showchartDetail=!0,this.$nextTick(function(){this.$refs.chartDetail.getchartdata(t)})},colseshowchartDetail:function(){this.showchartDetail=!1},rowstyle:function(){return{background:"#FFFFFF"}}})},o=(n()({},c),n()({},c)),u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"serviceRecord"},[a("div",{staticClass:"listBox"},[a("div",{staticClass:"header"},[t._m(0),t._v(" "),a("div",{staticClass:"selectInput"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectInput,expression:"selectInput"}],attrs:{type:"text",placeholder:"搜索客户名/手机号/备注名"},domProps:{value:t.selectInput},on:{input:function(e){e.target.composing||(t.selectInput=e.target.value)}}}),t._v(" "),a("i",{staticClass:"el-icon-search"}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:""!=t.selectInput,expression:"selectInput!=''"}],staticClass:"el-icon-circle-close",on:{click:t.clearIntput}}),t._v(" "),a("div",{staticClass:"selectbotton",on:{click:t.inputchange}},[a("span",[t._v("搜索")])])])]),t._v(" "),a("div",{staticClass:"table"},[a("el-table",{ref:"multipleTable",attrs:{data:t.tableData,"tooltip-effect":"dark",height:"661",size:"small"}},[a("el-table-column",{attrs:{prop:"id","show-overflow-tooltip":"",width:"192"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("span",{staticClass:"hearder"},[t._v("服务编号")])]}},{key:"default",fn:function(e){return[a("span",{staticClass:"tabletext"},[t._v(t._s(t.tableData[e.$index].id))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"customerName","show-overflow-tooltip":"",width:"120"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("span",{staticClass:"hearder"},[t._v("客户姓名")])]}},{key:"default",fn:function(e){return[a("span",{staticClass:"tabletext"},[t._v(t._s(t.tableData[e.$index].customerName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"finishTime","show-overflow-tooltip":"",width:"192"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("span",{staticClass:"hearder"},[t._v("服务时间")])]}},{key:"default",fn:function(e){return[a("span",{staticClass:"tabletext"},[t._v(t._s(t.tableData[e.$index].finishTime))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"phone","show-overflow-tooltip":"",width:"192"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("span",{staticClass:"hearder"},[t._v("手机号码")])]}},{key:"default",fn:function(e){return[a("span",{staticClass:"tabletext"},[t._v(t._s(t.tableData[e.$index].phone))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"lengthOfService","show-overflow-tooltip":"",width:"144"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("span",{staticClass:"hearder"},[t._v("服务时长")])]}},{key:"default",fn:function(e){return[a("span",{staticClass:"tabletext"},[t._v(t._s(t.tableData[e.$index].lengthOfService))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"serviceScore"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("span",{staticClass:"hearder"},[t._v("评分")])]}},{key:"default",fn:function(e){return[a("el-rate",{attrs:{disabled:""},model:{value:t.tableData[e.$index].serviceScore,callback:function(a){t.$set(t.tableData[e.$index],"serviceScore",a)},expression:"tableData[scope.$index].serviceScore"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",width:"150"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("span",{staticClass:"hearder"},[t._v("操作")])]}},{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.showchartDetailchange(t.tableData[e.$index].id)}}},[t._v("\n\t\t\t\t\t\t\t聊天记录\n\t\t\t\t\t\t")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"page"},[a("span",[t._v("共 "+t._s(t.total)+" 条")]),t._v("\n\t\t\t \n\t\t\t"),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.pagesize,"current-page":t.pageindex,background:!1},on:{"current-change":t.change}})],1)]),t._v(" "),a("transition",{attrs:{name:"slide-chartDetail"}},[t.showchartDetail?a("chartDetail",{ref:"chartDetail"}):t._e()],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"headerLeftTitle"},[e("span",{staticClass:"Tile"},[this._v("服务记录")])])}]};var d=a("jadU")(o,u,!1,function(t){a("yoha")},"data-v-21bfa31a",null);e.default=d.exports},yoha:function(t,e){}});
//# sourceMappingURL=11.4b8cd568c3d08553c53c.js.map