{"version":3,"sources":["webpack:///./template/plogin/plogin.js","webpack:///./template/plogin/plogin.vue","webpack:///./template/plogin/plogin.vue?5c38","webpack:///./template/plogin/plogin.vue?9e1a"],"names":["plogin","name","data","created","document","domain","this","getOpenid","localStorage","setItem","pLogin","mounted","methods","_this","appid","code","$route","query","param","$api","server","pgetOpenId","then","res","status","openId","urlS","window","location","href","split","urlStr","origin","url","encodeURIComponent","_this2","sessionStorage","adminName","adminId","headImgUrl","userId","recordId","$router","push","path","error","message","selectortype_script_index_0_template_plogin_plogin","extends_default","selectortype_template_index_0_template_plogin_plogin","render","_h","$createElement","_self","_c","staticClass","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"oJAAeA,cACdC,KAAM,SACNC,KAFc,WAGb,UAEDC,QALc,WAMU,2BAAnBC,SAASC,QAA0D,uBAAnBD,SAASC,OAC5DC,KAAKC,aAELC,aAAaC,QAAQ,WAAY,gCACjCH,KAAKI,WAGPC,QAbc,aAcdC,SAECL,UAAW,WAAY,IAAAM,EAAAP,KAClBQ,SAEHA,EADsB,2BAAnBV,SAASC,OACJ,qBACqB,uBAAnBD,SAASC,OACX,qBAEA,qBAGT,IAAIU,EAAOT,KAAKU,OAAOC,MAAMF,KACzBG,KAEJ,GADAA,EAAMH,KAAOA,EACTA,EACHT,KAAKa,KAAKC,OAAOC,WAAWH,GAAOI,KAAK,SAAAC,GACrB,KAAdA,EAAIC,SACPhB,aAAaC,QAAQ,WAAYc,EAAIrB,KAAKuB,QAC1CZ,EAAKH,gBAID,CACN,IAAIgB,EAAO,GACPC,OAAOC,SAASC,KAAKC,MAAM,KAAK,KACnCJ,EAAO,IAAMC,OAAOC,SAASC,KAAKC,MAAM,KAAK,IAE9C,IAAIC,EAASJ,OAAOC,SAASI,OAAS,gBAAkBN,EAEpDO,EAAM,6DAA+DnB,EAAQ,iBAD9DoB,mBAAmBH,GAC6E,oDACnHJ,OAAOC,SAASC,KAAOI,IAKzBvB,OAAQ,WAAY,IAAAyB,EAAA7B,KACnBA,KAAKa,KAAKC,OAAOV,SAASY,KAAK,SAAAC,GAC9B,GAAkB,KAAdA,EAAIC,OAAiB,CACxBY,eAAe3B,QAAQ,WAAYc,EAAIrB,KAAKmC,WAC5CD,eAAe3B,QAAQ,UAAWc,EAAIrB,KAAKoC,SAC3CF,eAAe3B,QAAQ,YAAac,EAAIrB,KAAKqC,YAC7CH,eAAe3B,QAAQ,cAAe,MACtC,IAAIS,KACJA,EAAMsB,OAASL,EAAKnB,OAAOC,MAAMuB,OACjCtB,EAAMuB,SAAWN,EAAKnB,OAAOC,MAAMwB,SACnCN,EAAKO,QAAQC,MACZC,KAAM,cACN3B,MAAOC,SAEgB,KAAdK,EAAIC,SACdW,EAAKU,MAAQtB,EAAIuB,eCzDPC,GAAAC,GAAA,IACXhD,GADWgD,GAAA,IACXhD,ICNWiD,GADEC,OAFjB,WAA0B,IAAaC,EAAb7C,KAAa8C,eAAkD,OAA/D9C,KAAuC+C,MAAAC,IAAAH,GAAwB,OAAiBI,YAAA,YAEzFC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEZ,EACAE,GATF,EAVA,SAAAW,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/10.6a8233d8fb89abb6a24f.js","sourcesContent":["export default {\r\n\tname: \"plogin\",\r\n\tdata() {\r\n\t\treturn {}\t\r\n\t},\r\n\tcreated() {\r\n\t\tif (document.domain == 'wetest.baoyitech.com.cn' || document.domain == 'mp.baoyitech.com.cn') { //阿里云服务器\r\n\t\t\tthis.getOpenid();\r\n\t\t} else{\r\n\t\t\tlocalStorage.setItem('wxopenId', 'orDrnt6V-G93ehsrPHQiSjbc66v4');\r\n\t\t\tthis.pLogin();\r\n\t\t}\r\n\t},\r\n\tmounted() {},\r\n\tmethods: {\r\n\t\t// 移动端获取openId\r\n\t\tgetOpenid: function () {\r\n\t\t\tlet appid;\r\n\t\t\tif (document.domain == 'wetest.baoyitech.com.cn') { //阿里云测试服务器\r\n\t\t\t\tappid = 'wx51427e73dc14ac70';\r\n\t\t\t} else if (document.domain == 'mp.baoyitech.com.cn') { //正式服\r\n\t\t\t\tappid = 'wxbc615258558f9058';\r\n\t\t\t}else{\r\n\t\t\t\tappid = 'wx51427e73dc14ac70';\r\n\t\t\t}\r\n\t\t\t/*获取code*/\r\n\t\t\tlet code = this.$route.query.code; //获取链接参数code\r\n\t\t\tlet param = {};\r\n\t\t\tparam.code = code;\r\n\t\t\tif (code) { //如果code存在，则请求api获取openid\r\n\t\t\t\tthis.$api.server.pgetOpenId(param).then(res => {\r\n\t\t\t\t\tif (res.status == 10000) {\r\n\t\t\t\t\t\tlocalStorage.setItem('wxopenId', res.data.openId);\r\n\t\t\t\t\t\tthis.pLogin();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else { //如果code不存在，则重定向获取code\r\n\t\t\t\tlet urlS = '';\r\n\t\t\t\tif (window.location.href.split('?')[1]) {\r\n\t\t\t\t\turlS = '?' + window.location.href.split('?')[1];\r\n\t\t\t\t}\r\n\t\t\t\tlet urlStr = window.location.origin + '/views/plogin' + urlS;\r\n\t\t\t\tlet redirect_uri = encodeURIComponent(urlStr);\r\n\t\t\t\tlet url = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=' + appid + '&redirect_uri=' + redirect_uri + '&response_type=code&scope=snsapi_base&state=STATE';\r\n\t\t\t\twindow.location.href = url;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/// 移动端登录\r\n\t\tpLogin: function () {\r\n\t\t\tthis.$api.server.pLogin().then(res => {\r\n\t\t\t\tif (res.status == 10000) {\r\n\t\t\t\t\tsessionStorage.setItem(\"userName\", res.data.adminName);\r\n\t\t\t\t\tsessionStorage.setItem(\"adminId\", res.data.adminId);\r\n\t\t\t\t\tsessionStorage.setItem(\"headerimg\", res.data.headImgUrl);\r\n\t\t\t\t\tsessionStorage.setItem(\"selectValue\", '在线');\r\n\t\t\t\t\tlet param = {};\r\n\t\t\t\t\tparam.userId = this.$route.query.userId;\r\n\t\t\t\t\tparam.recordId = this.$route.query.recordId;\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tpath: '/Mobilechat',\r\n\t\t\t\t\t\tquery: param\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (res.status == 30000) {\r\n\t\t\t\t\tthis.error = res.message;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./template/plogin/plogin.js","//\n//\n//\n//\n//\n\nimport Vue from \"vue\";\nimport plogin from \"./plogin.js\";\nexport default {\n\t...plogin,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./template/plogin/plogin.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"plogin\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-225f83bd\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./template/plogin/plogin.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-225f83bd\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./plogin.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./plogin.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./plogin.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-225f83bd\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./plogin.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-225f83bd\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./template/plogin/plogin.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}