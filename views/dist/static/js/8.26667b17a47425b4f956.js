webpackJsonp([8],{gsif:function(e,s){},h44e:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=t("p4Oo"),a=t.n(n),i=t("fXyh"),o={name:"login",data:function(){return{form:{name:"",password:""},loading:"加载中",businesstype:[],ifselectbox:!1}},created:function(){sessionStorage.clear(),this.getbusiness()},mounted:function(){},methods:a()({},Object(i.c)("serverModule",{SETUSERINFO:"SETUSERINFO",SETBUSINESSTYPE:"SETBUSINESSTYPE"}),{onSubmit:function(){var e=this;if(""==this.loading){var s=[];this.businesstype.forEach(function(e,t){1==e.checked&&s.push(e.bussinessId)}),""!=this.form.name?""!=this.form.password?(this.loading="登录中",this.$api.server.login(this.form.name,this.form.password,s.join(",")).then(function(s){1e4==s.status?(e.loading="",s.data.onlinestatus=1,e.SETUSERINFO(s.data),e.SETBUSINESSTYPE(e.businesstype),e.$router.replace({name:"chart"})):(e.loading="",3e4==s.status?e.$message.error(s.message):e.$message.error("未能接收到规定的Josn返回格式!"))})):this.$message.warning("请输入密码!"):this.$message.warning("请输入用户名!")}},selectedfun:function(e){this.businesstype[e].checked?this.businesstype[e].checked=!1:this.businesstype[e].checked=!0},mousemovefun:function(e){(e=window.event||e).preventDefault(),this.ifselectbox=!0},mouseleavefun:function(e){(e=window.event||e).preventDefault(),this.ifselectbox=!1},getbusiness:function(){var e=this,s=this;this.$api.server.getAllBusiness().then(function(t){1e4==t.status?(e.loading="",t.data.forEach(function(e,t){e.checked=!1,s.businesstype.push(e)})):(e.loading="",e.$message.error("未能获取业务信息,请刷新一下"))})}})},r=(a()({},o),a()({},o)),c={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"login"},[t("form",{directives:[{name:"loading",rawName:"v-loading",value:""!=e.loading,expression:"loading!=''"}],staticClass:"form",attrs:{"element-loading-text":e.loading,"element-loading-background":"rgba(255, 255, 255, 0.3)"}},[e._m(0),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"name",attrs:{placeholder:"请输入账号"},domProps:{value:e.form.name},on:{input:function(s){s.target.composing||e.$set(e.form,"name",s.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"password",attrs:{placeholder:"请输入密码",type:"password",autocomplete:""},domProps:{value:e.form.password},on:{input:function(s){s.target.composing||e.$set(e.form,"password",s.target.value)}}}),e._v(" "),t("div",{staticClass:"roleOfScreening",on:{mousemove:function(s){return e.mousemovefun()},mouseleave:function(s){return e.mouseleavefun()}}},[t("div",{staticClass:"showselectedvalue",attrs:{placeholder:"请选择业务类型"}},e._l(e.businesstype,function(s,n){return s.checked?t("el-tag",{key:"el"+n,staticClass:"Hasbeenselected",attrs:{closable:"",type:"success",size:"mini"},on:{close:function(s){return e.selectedfun(n)}}},[e._v(e._s(s.bussinessName)+"\n\t\t\t\t")]):e._e()}),1),e._v(" "),e.ifselectbox?t("div",{staticClass:"selectbox",on:{mousemove:function(e){e.stopPropagation()}}},e._l(e.businesstype,function(s,n){return t("div",{key:"select"+n,staticClass:"select",on:{click:function(s){return e.selectedfun(n)}}},[t("div",{class:{checkbox:!0,checkboxactive:s.checked}}),e._v(" "),t("div",{staticClass:"text"},[t("span",[e._v(e._s(s.bussinessName))])])])}),0):e._e()]),e._v(" "),t("el-button",{staticClass:"onSubmit",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("登录")])],1)])},staticRenderFns:[function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"title"},[s("span",{staticClass:"logo"},[this._v("Zlg")]),s("span",[this._v("登录")])])}]};var u=t("jadU")(r,c,!1,function(e){t("gsif")},"data-v-7e527e6d",null);s.default=u.exports}});
//# sourceMappingURL=8.26667b17a47425b4f956.js.map